{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/tlvud/Desktop/react-web/pyp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React from\"react\";import{Link,useLocation,useNavigate}from\"react-router-dom\";import styled from\"styled-components\";import{jsx as _jsx}from\"react/jsx-runtime\";var DL=styled(Link)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100vw;\\n  height: 100vh;\\n\"])));export default function DelayLink(props){var delay=props.delay,onDelayStart=props.onDelayStart,onDelayEnd=props.onDelayEnd,replace=props.replace,to=props.to;var timeout=null;var location=useLocation();var navigate=useNavigate();// useEffect(() => {\n//   // 언마운트시 타임아웃 정리\n//   return () => {\n//     if (timeout) {\n//       clearTimeout(timeout);\n//     }\n//   };\n// });\nvar handleClick=function handleClick(e){// location 인풋이 목적지와 같으면 반환\nif((location===null||location===void 0?void 0:location.pathname)===to)return;// onDelayStart(e, to);\nif(e.defaultPrevented){return;}e.preventDefault();// delay만큼 대기\ntimeout=setTimeout(function(){// to로 이동\nif(replace){navigate(to,{replace:true});}else{navigate(to);}// onDelayEnd(e, to);\n},delay);};DelayLink.defaultProps={replace:false,delay:0,onDelayStart:function onDelayStart(){},onDelayEnd:function onDelayEnd(){}};return/*#__PURE__*/_jsx(DL,{to:to,onClick:handleClick});}","map":{"version":3,"sources":["C:/Users/tlvud/Desktop/react-web/pyp/src/components/DelayLink.jsx"],"names":["React","Link","useLocation","useNavigate","styled","DL","DelayLink","props","delay","onDelayStart","onDelayEnd","replace","to","timeout","location","navigate","handleClick","e","pathname","defaultPrevented","preventDefault","setTimeout","defaultProps"],"mappings":"kMAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,WAAf,CAA4BC,WAA5B,KAA+C,kBAA/C,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,C,2CAEA,GAAMC,CAAAA,EAAE,CAAGD,MAAM,CAACH,IAAD,CAAT,sGAAR,CAKA,cAAe,SAASK,CAAAA,SAAT,CAAmBC,KAAnB,CAA0B,CACvC,GAAQC,CAAAA,KAAR,CAAyDD,KAAzD,CAAQC,KAAR,CAAeC,YAAf,CAAyDF,KAAzD,CAAeE,YAAf,CAA6BC,UAA7B,CAAyDH,KAAzD,CAA6BG,UAA7B,CAAyCC,OAAzC,CAAyDJ,KAAzD,CAAyCI,OAAzC,CAAkDC,EAAlD,CAAyDL,KAAzD,CAAkDK,EAAlD,CACA,GAAIC,CAAAA,OAAO,CAAG,IAAd,CACA,GAAIC,CAAAA,QAAQ,CAAGZ,WAAW,EAA1B,CACA,GAAIa,CAAAA,QAAQ,CAAGZ,WAAW,EAA1B,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAMa,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAO,CACzB;AACA,GAAI,CAAAH,QAAQ,OAAR,EAAAA,QAAQ,SAAR,QAAAA,QAAQ,CAAEI,QAAV,IAAuBN,EAA3B,CAA+B,OAE/B;AAEA,GAAIK,CAAC,CAACE,gBAAN,CAAwB,CACtB,OACD,CAEDF,CAAC,CAACG,cAAF,GAEA;AACAP,OAAO,CAAGQ,UAAU,CAAC,UAAM,CACzB;AACA,GAAIV,OAAJ,CAAa,CACXI,QAAQ,CAACH,EAAD,CAAK,CAAED,OAAO,CAAE,IAAX,CAAL,CAAR,CACD,CAFD,IAEO,CACLI,QAAQ,CAACH,EAAD,CAAR,CACD,CACD;AACD,CARmB,CAQjBJ,KARiB,CAApB,CASD,CAtBD,CAwBAF,SAAS,CAACgB,YAAV,CAAyB,CACvBX,OAAO,CAAE,KADc,CAEvBH,KAAK,CAAE,CAFgB,CAGvBC,YAAY,CAAE,uBAAM,CAAE,CAHC,CAIvBC,UAAU,CAAE,qBAAM,CAAE,CAJG,CAAzB,CAOA,mBAAO,KAAC,EAAD,EAAI,EAAE,CAAEE,EAAR,CAAY,OAAO,CAAEI,WAArB,EAAP,CACD","sourcesContent":["import React from \"react\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nconst DL = styled(Link)`\r\n  width: 100vw;\r\n  height: 100vh;\r\n`;\r\n\r\nexport default function DelayLink(props) {\r\n  const { delay, onDelayStart, onDelayEnd, replace, to } = props;\r\n  let timeout = null;\r\n  let location = useLocation();\r\n  let navigate = useNavigate();\r\n\r\n  // useEffect(() => {\r\n  //   // 언마운트시 타임아웃 정리\r\n  //   return () => {\r\n  //     if (timeout) {\r\n  //       clearTimeout(timeout);\r\n  //     }\r\n  //   };\r\n  // });\r\n\r\n  const handleClick = (e) => {\r\n    // location 인풋이 목적지와 같으면 반환\r\n    if (location?.pathname === to) return;\r\n\r\n    // onDelayStart(e, to);\r\n\r\n    if (e.defaultPrevented) {\r\n      return;\r\n    }\r\n\r\n    e.preventDefault();\r\n\r\n    // delay만큼 대기\r\n    timeout = setTimeout(() => {\r\n      // to로 이동\r\n      if (replace) {\r\n        navigate(to, { replace: true });\r\n      } else {\r\n        navigate(to);\r\n      }\r\n      // onDelayEnd(e, to);\r\n    }, delay);\r\n  };\r\n\r\n  DelayLink.defaultProps = {\r\n    replace: false,\r\n    delay: 0,\r\n    onDelayStart: () => {},\r\n    onDelayEnd: () => {},\r\n  };\r\n\r\n  return <DL to={to} onClick={handleClick} />;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}