{"ast":null,"code":"import JSON_DATA from \"../Data3.json\";\nexport function fetchJsonData(id) {\n  let dataPromise = fetchData(id);\n  console.log(dataPromise);\n  return {\n    data: wrapPromise(dataPromise)\n  };\n}\n\nfunction wrapPromise(promise) {\n  let status = \"pending\";\n  let result;\n  let suspender = promise.then(r => {\n    status = \"success\";\n    result = r;\n  }, e => {\n    status = \"error\";\n    result = e;\n  });\n  return {\n    read() {\n      if (status === \"pending\") {\n        throw suspender;\n      } else if (status === \"error\") {\n        throw result;\n      } else if (status === \"success\") {\n        return result;\n      }\n    }\n\n  };\n}\n\nfunction fetchData(id) {\n  console.log(\"fetch data...\");\n  return new Promise(resolve => {\n    console.log(\"fetched data\");\n    const data = JSON_DATA.map(item => {\n      if (item.id == id) {\n        console.log(\"api id:\" + id);\n        const rObj = {};\n        rObj[item.id] = item;\n        console.log(rObj);\n        return rObj;\n      }\n    });\n    console.log(data);\n    resolve(data);\n  });\n}","map":{"version":3,"sources":["C:/Users/tlvud/Desktop/react-web/pyp/src/shared/FetchApi.js"],"names":["JSON_DATA","fetchJsonData","id","dataPromise","fetchData","console","log","data","wrapPromise","promise","status","result","suspender","then","r","e","read","Promise","resolve","map","item","rObj"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,eAAtB;AAEA,OAAO,SAASC,aAAT,CAAuBC,EAAvB,EAA2B;AAChC,MAAIC,WAAW,GAAGC,SAAS,CAACF,EAAD,CAA3B;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYH,WAAZ;AACA,SAAO;AAAEI,IAAAA,IAAI,EAAEC,WAAW,CAACL,WAAD;AAAnB,GAAP;AACD;;AAED,SAASK,WAAT,CAAqBC,OAArB,EAA8B;AAC5B,MAAIC,MAAM,GAAG,SAAb;AACA,MAAIC,MAAJ;AACA,MAAIC,SAAS,GAAGH,OAAO,CAACI,IAAR,CACbC,CAAD,IAAO;AACLJ,IAAAA,MAAM,GAAG,SAAT;AACAC,IAAAA,MAAM,GAAGG,CAAT;AACD,GAJa,EAKbC,CAAD,IAAO;AACLL,IAAAA,MAAM,GAAG,OAAT;AACAC,IAAAA,MAAM,GAAGI,CAAT;AACD,GARa,CAAhB;AAWA,SAAO;AACLC,IAAAA,IAAI,GAAG;AACL,UAAIN,MAAM,KAAK,SAAf,EAA0B;AACxB,cAAME,SAAN;AACD,OAFD,MAEO,IAAIF,MAAM,KAAK,OAAf,EAAwB;AAC7B,cAAMC,MAAN;AACD,OAFM,MAEA,IAAID,MAAM,KAAK,SAAf,EAA0B;AAC/B,eAAOC,MAAP;AACD;AACF;;AATI,GAAP;AAWD;;AAED,SAASP,SAAT,CAAmBF,EAAnB,EAAuB;AACrBG,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AAEA,SAAO,IAAIW,OAAJ,CAAaC,OAAD,IAAa;AAC9Bb,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACA,UAAMC,IAAI,GAAGP,SAAS,CAACmB,GAAV,CAAeC,IAAD,IAAU;AACnC,UAAIA,IAAI,CAAClB,EAAL,IAAWA,EAAf,EAAmB;AACjBG,QAAAA,OAAO,CAACC,GAAR,CAAY,YAAYJ,EAAxB;AACA,cAAMmB,IAAI,GAAG,EAAb;AACAA,QAAAA,IAAI,CAACD,IAAI,CAAClB,EAAN,CAAJ,GAAgBkB,IAAhB;AACAf,QAAAA,OAAO,CAACC,GAAR,CAAYe,IAAZ;AACA,eAAOA,IAAP;AACD;AACF,KARY,CAAb;AASAhB,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACAW,IAAAA,OAAO,CAACX,IAAD,CAAP;AACD,GAbM,CAAP;AAcD","sourcesContent":["import JSON_DATA from \"../Data3.json\";\r\n\r\nexport function fetchJsonData(id) {\r\n  let dataPromise = fetchData(id);\r\n  console.log(dataPromise);\r\n  return { data: wrapPromise(dataPromise) };\r\n}\r\n\r\nfunction wrapPromise(promise) {\r\n  let status = \"pending\";\r\n  let result;\r\n  let suspender = promise.then(\r\n    (r) => {\r\n      status = \"success\";\r\n      result = r;\r\n    },\r\n    (e) => {\r\n      status = \"error\";\r\n      result = e;\r\n    }\r\n  );\r\n\r\n  return {\r\n    read() {\r\n      if (status === \"pending\") {\r\n        throw suspender;\r\n      } else if (status === \"error\") {\r\n        throw result;\r\n      } else if (status === \"success\") {\r\n        return result;\r\n      }\r\n    },\r\n  };\r\n}\r\n\r\nfunction fetchData(id) {\r\n  console.log(\"fetch data...\");\r\n\r\n  return new Promise((resolve) => {\r\n    console.log(\"fetched data\");\r\n    const data = JSON_DATA.map((item) => {\r\n      if (item.id == id) {\r\n        console.log(\"api id:\" + id);\r\n        const rObj = {};\r\n        rObj[item.id] = item;\r\n        console.log(rObj);\r\n        return rObj;\r\n      }\r\n    });\r\n    console.log(data);\r\n    resolve(data);\r\n  });\r\n}\r\n"]},"metadata":{},"sourceType":"module"}